#!/bin/sh

wgetcount=`which wget 2>/dev/null | wc -w`
if test ! $wgetcount = 1; then
  echo "Utility wget not found in your PATH."
  exit -1
fi

echo " "
echo "Running script for downloading the GAMS I/O libraries for Darwin platform"
echo " "

MACHINECODE=DII
IOLIB_FILES="${MACHINECODE}ciolib_rev1801LIB.zip \
${MACHINECODE}clicelib_ver015LIB.zip \
${MACHINECODE}gclib_rev1798LIB.zip \
${MACHINECODE}g2ddll_rev1801LIB.zip \
${MACHINECODE}g2dlib_rev1815LIB.zip \
${MACHINECODE}gdxio_ver234LIB.zip \
${MACHINECODE}optobj_rev1811LIB.zip"
SMAGLIB_FILES="${MACHINECODE}smaglib_rev1879LIB.zip"
FILES="${IOLIB_FILES} ${SMAGLIB_FILES}"

mkdir -p DII
cd DII
rm -f $FILES

echo "Downloading the libraries from www.gams.com..."
for file in $FILES
do
	wget http://www.gams.com/~svigerske/stable-0.3/$file
done

echo "Unpacking the libraries..."
for file in $FILES
do
	unzip -o $file
done

echo "Deleting the zip files..."
rm -f $FILES

echo " "
echo "Done downloading the GAMS I/O libraries."
echo " "
